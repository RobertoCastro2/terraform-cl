{
  "version": 4,
  "terraform_version": "1.12.1",
  "serial": 1,
  "lineage": "a20f77f3-7607-ded9-7571-0a95d2129a93",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_cloudformation_stack",
      "name": "network",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capabilities": [
              "CAPABILITY_NAMED_IAM"
            ],
            "description": "Rede VPC b?sica com Sub-rede p?blica e Security Group",
            "disable_rollback": false,
            "iam_role_arn": "",
            "id": "arn:aws:cloudformation:us-east-2:653447836976:stack/network-stack/5cce0db0-4693-11f0-b87a-061a2e7ca153",
            "name": "network-stack",
            "notification_arns": [],
            "outputs": {
              "InstanceSecurityGroupId": "sg-0491c03b575521dc7",
              "PublicSubnet1Id": "subnet-042003643678e69a4",
              "VpcId": "vpc-08c5c20b261cb1915"
            },
            "parameters": {
              "EnvironmentName": "dev"
            },
            "tags": {},
            "template_body": "AWSTemplateFormatVersion: '2010-09-09'\nDescription: Rede VPC b?sica com Sub-rede p?blica e Security Group\n\nParameters:\n  EnvironmentName:\n    Type: String\n    Default: dev\n\nResources:\n  VPC:\n    Type: AWS::EC2::VPC\n    Properties:\n      CidrBlock: 10.0.0.0/16\n      Tags:\n        - Key: Name\n          Value: !Sub '${EnvironmentName}-vpc'\n\n  PublicSubnet1:\n    Type: AWS::EC2::Subnet\n    Properties:\n      VpcId: !Ref VPC\n      CidrBlock: 10.0.1.0/24\n      MapPublicIpOnLaunch: true\n      Tags:\n        - Key: Name\n          Value: !Sub '${EnvironmentName}-public-subnet-1'\n\n  InternetGateway:\n    Type: AWS::EC2::InternetGateway\n    Properties:\n      Tags:\n        - Key: Name\n          Value: !Sub '${EnvironmentName}-igw'\n\n  AttachGateway:\n    Type: AWS::EC2::VPCGatewayAttachment\n    Properties:\n      VpcId: !Ref VPC\n      InternetGatewayId: !Ref InternetGateway\n\n  PublicRouteTable:\n    Type: AWS::EC2::RouteTable\n    Properties:\n      VpcId: !Ref VPC\n      Tags:\n        - Key: Name\n          Value: !Sub '${EnvironmentName}-public-rt'\n\n  PublicRoute:\n    Type: AWS::EC2::Route\n    Properties:\n      RouteTableId: !Ref PublicRouteTable\n      DestinationCidrBlock: 0.0.0.0/0\n      GatewayId: !Ref InternetGateway\n\n  SubnetRouteTableAssociation:\n    Type: AWS::EC2::SubnetRouteTableAssociation\n    Properties:\n      SubnetId: !Ref PublicSubnet1\n      RouteTableId: !Ref PublicRouteTable\n\n  InstanceSG:\n    Type: AWS::EC2::SecurityGroup\n    Properties:\n      GroupDescription: Acesso SSH e gRPC\n      VpcId: !Ref VPC\n      SecurityGroupIngress:\n        - IpProtocol: tcp\n          FromPort: 22\n          ToPort: 22\n          CidrIp: 0.0.0.0/0\n        - IpProtocol: tcp\n          FromPort: 50051\n          ToPort: 50053\n          CidrIp: 0.0.0.0/0\n\nOutputs:\n  VpcId:\n    Description: ID da VPC\n    Value: !Ref VPC\n    Export:\n      Name: !Sub '${EnvironmentName}-VpcId'\n\n  PublicSubnet1Id:\n    Description: ID da Sub-rede P?blica\n    Value: !Ref PublicSubnet1\n    Export:\n      Name: !Sub '${EnvironmentName}-PublicSubnet1Id'\n\n  InstanceSecurityGroupId:\n    Description: Security Group ID\n    Value: !Ref InstanceSG\n    Export:\n      Name: !Sub '${EnvironmentName}-InstanceSG'",
            "timeout_in_minutes": 0
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    }
  ],
  "check_results": null
}
